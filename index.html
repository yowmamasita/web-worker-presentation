<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <title>Web Workers & ParallelJS</title>

  <!-- Required stylesheet -->
  <link rel="stylesheet" media="screen" href="core/deck.core.css">

  <!-- Extension CSS files go here. Remove or add as needed. -->
  <link rel="stylesheet" media="screen" href="extensions/goto/deck.goto.css">
  <link rel="stylesheet" media="screen" href="extensions/menu/deck.menu.css">
  <link rel="stylesheet" media="screen" href="extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" media="screen" href="extensions/status/deck.status.css">
  <link rel="stylesheet" media="screen" href="extensions/scale/deck.scale.css">
  <link rel="stylesheet" media="screen" href="extensions/highlight/railscasts.css">

  <!-- Style theme. More available in /themes/style/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/style/neon.css">

  <!-- Transition theme. More available in /themes/transition/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/transition/horizontal-slide.css">

  <!-- Basic black and white print styles -->
  <link rel="stylesheet" media="print" href="core/print.css">

  <!-- Required Modernizr file -->
  <script src="modernizr.custom.js"></script>
</head>
<body>
<div class="deck-container">

<!-- Begin slides. Just make elements with a class of slide. -->

<section class="slide">
# ParallelJS
</section>

<section class="slide">
## What? Why?

JavaScript is executed in a single thread mediated by an event loop, and the only way to write concurrent programs was through callbacks

There are no cross-threading exceptions, race-conditions, or other problems associated with threads

You're stuck with not taking full advantage of your CPU's power

### Web Worker

Allows us to create functions that feature long runtime and require high-computational effort

Worker instances may be used simultaneously giving us the possibility to spawn as many of these workers as we desire
</section>

<section class="slide">
## Communication

Any code written for the worker should be treated as a concurrently running task

Communication is performed via the `Messages API`

    window.addEventListener('message', function (event) {
      event.source.postMessage('Howdy Cowboy!', event.origin);
    }, false);


</section>

<section class="slide">
## Communication p.2

The only way to communicate between web workers is over the main application

This means: your code is still race-condition free!

### Example

    var w = new Worker('prime.js');
    w.onmessage = function(event) {
      console.log(event);
    };
    var args = { start : 100, end : 10000 };
    w.postMessage(JSON.stringify(args));
</section>

<section class="slide">
## Communication p.3

    onmessage = function (event) {
      var arguments = JSON.parse(event.data);
      run(arguments.start, arguments.end);
    };

    function run (start, end) {
      var n = start;

      while (n < end) {
        var k = Math.sqrt(n);
        var found = false;

        for (var i = 2; !found && i <= k; ++i) {
          found = n % i === 0;
        }

        if (!found) {
          postMessage(n.toString());
        }

        n++;
      }
    }
</section>

<section class="slide">
## ParallelJS
</section>

<section class="slide">
# Thank You!
</section>

<!-- End slides. -->

<!-- Begin extension snippets. Add or remove as needed. -->

<!-- deck.navigation snippet -->
<div aria-role="navigation">
  <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
  <a href="#" class="deck-next-link" title="Next">&#8594;</a>
</div>

<!-- deck.status snippet -->
<p class="deck-status" aria-role="status">
  <span class="deck-status-current"></span>
  /
  <span class="deck-status-total"></span>
</p>

<!-- End extension snippets. -->
</div>

<!-- Required JS files. -->
<script src="jquery.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/scale/deck.scale.js"></script>
<script src="extensions/markdown/marked.min.js"></script>
<script src="extensions/markdown/marked.convert.js"></script>
<script src="extensions/highlight/highlight.pack.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
  $(function() {
    $.deck('.slide');
    hljs.initHighlightingOnLoad();
  });
</script>
</body>
</html>
